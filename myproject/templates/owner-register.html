{% include 'header.html' %}
{% load static %}
<div class="container-bg-register py-5">
  <div class="register-container">
    <!-- Success/Error Messages -->
    {% if errormsg %}
    <div class="alert alert-danger custom-alert" role="alert" data-redirect-url="/owner-register">
      <i class="bi bi-x-circle"></i> {{ errormsg }}
    </div>
    <script>
      // Redirect after 5 seconds
      setTimeout(function() {
          window.location.href = document.getElementById("errormsg").getAttribute("data-redirect-url");
      }, 3000);
    </script>
    {% endif %}
    {% if success %}
    <div class="alert alert-success custom-alert" role="alert" id="success" data-redirect-url="/owner-login">
      <i class="bi bi-check-circle"></i> {{ success }}
    </div>
    <script>
      // Redirect after 5 seconds
      setTimeout(function() {
          window.location.href = document.getElementById("success").getAttribute("data-redirect-url");
      }, 3000);
    </script>
    {% endif %}

    <!-- Registration Form -->
    <h2 class="register-header">Society-360 Registration</h2>
    <form action="#" method="POST">
      {% csrf_token %}
      
      <!-- Name and Email in Same Row -->
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="name" class="form-label">Name</label>
          <input
            type="text"
            name="uname"
            class="form-control"
            id="name"
            placeholder="Enter your name"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="email" class="form-label">Email</label>
          <input
            type="email"
            name="uemail"
            class="form-control"
            id="email"
            placeholder="Enter your email"
            required
          />
        </div>
      </div>

      <!-- Mobile Number and Flat Number in Same Row -->
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="number" class="form-label">Mobile Number</label>
          <input
            type="text"
            name="mob"
            class="form-control"
            id="mob"
            placeholder="Enter your mobile number"
            maxlength="10"
            pattern="\d{10}"   
            required
          />
        </div>
        <div class="col-md-6">
          <label for="flatno" class="form-label">Flat Number</label>
          <input
            type="text"
            name="flatno"
            class="form-control"
            id="flat"
            placeholder="Enter your flat number"
            required
          />
        </div>
      </div>

      <!-- Password and Confirm Password in Same Row -->
      <div class="row mb-3">
        <div class="col-md-6">
          <label for="password" class="form-label">Password</label>
          <input
            type="password"
            name="upass"
            class="form-control"
            id="password"
            placeholder="Enter your password"
            required
          />
        </div>
        <div class="col-md-6">
          <label for="confirm-password" class="form-label">Confirm Password</label>
          <input
            type="password"
            name="ucpass"
            class="form-control"
            id="confirm-password"
            placeholder="Confirm your password"
            required
          />
        </div>
      </div>

      <!-- Register Button -->
      <button type="submit" class="btn btn-custom w-100">Register</button>
    </form>

    <!-- Login Redirect Link -->
    <div class="already-account text-center mt-3">
      <a href="/owner-login">Already have an account? Login here</a>
    </div>
  </div>
</div>

{% include 'footer.html' %}

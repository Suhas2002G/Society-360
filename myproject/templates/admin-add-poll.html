{% extends 'admin-base.html' %}
{% load static %}
{% block 'main' %}
<div class="col-md-10 col-sm-8 mb-2">
<div class="container admin-add-poll-container">
    <h2 class="admin-add-poll-title">Create a Poll</h2>
    <form method="post" class="admin-add-poll-form">
        <!-- Success/Error messages -->
        {% if successmsg %}
        <div id="success" class="alert alert-success" role="alert" data-redirect-url="/admin-dashboard">
            {{ successmsg }}
        </div>
        <script>
            // Redirect after 5 seconds
            setTimeout(function() {
                window.location.href = document.getElementById("success").getAttribute("data-redirect-url");
            }, 3000);
        </script>
        {% elif errormsg %}
        <div id="error" class="alert alert-danger" role="alert">
            {{ errormsg }}
        </div>
        {% endif %}
        
        {% csrf_token %}
        
        <div class="form-group admin-add-poll-group">
            <label for="question" class="admin-add-poll-label">Poll Question</label>
            <input type="text" id="question" name="question" class="form-control admin-add-poll-input" placeholder="Enter the poll question">
        </div>
        
        <div class="form-group admin-add-poll-group">
            <label for="option1" class="admin-add-poll-label">Option 1</label>
            <input type="text" id="option1" name="option1" class="form-control admin-add-poll-input" placeholder="Enter option 1">
        </div>
        
        <div class="form-group admin-add-poll-group">
            <label for="option2" class="admin-add-poll-label">Option 2</label>
            <input type="text" id="option2" name="option2" class="form-control admin-add-poll-input" placeholder="Enter option 2">
        </div>
        
        <button type="submit" class="btn btn-primary admin-add-poll-submit">Create Poll</button>
    </form>
</div>
</div>
{% endblock 'main' %}
